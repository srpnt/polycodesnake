<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>p o l y c o d e</title>
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@700&display=swap" rel="stylesheet">
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
body {
background: #000;
font-family: Inconsolata, 'Courier New', monospace;
min-height: 100vh;
display: flex;
align-items: center;
justify-content: center;
overflow: hidden;
margin: 0;
padding: 0;
touch-action: none;
position: fixed;
width: 100%;
height: 100%;
}
canvas {
position: fixed;
top: 0;
left: 0;
display: block;
width: 100%;
height: 100%;
}
h1 {
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
z-index: 10;
font-size: 6rem;
font-weight: bold;
color: #00ff00;
letter-spacing: 1rem;
text-shadow: 
0 0 20px #00ff00,
0 0 40px #00ff00,
0 0 60px #00ff00;
pointer-events: none;
white-space: nowrap;
}
@media (max-width: 768px) {
h1 {
font-size: 3rem;
letter-spacing: 0.5rem;
}
}
@media (max-width: 480px) {
h1 {
font-size: 2rem;
letter-spacing: 0.3rem;
}
}
@media (max-width: 360px) {
h1 {
font-size: 1.5rem;
letter-spacing: 0.2rem;
}
}
</style>
</head>
<body>
<canvas id="matrix"></canvas>
<h1>polycode.sh</h1>
<script>
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');

const chars = '01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン0123456789ABCDEF';

let fontSize = window.innerWidth < 768 ? 12 : 16;
let columns;
let drops = [];

function initMatrix() {
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
fontSize = window.innerWidth < 768 ? 12 : 16;
columns = Math.floor(canvas.width / fontSize);
drops = [];
for (let i = 0; i < columns; i++) {
drops[i] = Math.random() * -100;
}
}

initMatrix();

const title = document.querySelector('h1');

function getTitleBounds() {
const rect = title.getBoundingClientRect();
return {
left: rect.left,
right: rect.right,
top: rect.top,
bottom: rect.bottom
};
}

function draw() {
ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
ctx.fillRect(0, 0, canvas.width, canvas.height);
ctx.font = fontSize + 'px monospace';

const titleBounds = getTitleBounds();

for (let i = 0; i < drops.length; i++) {
const x = i * fontSize;
const y = drops[i] * fontSize;

const isOverTitle = x >= titleBounds.left && 
x <= titleBounds.right && 
y >= titleBounds.top && 
y <= titleBounds.bottom;

if (isOverTitle) {
ctx.fillStyle = 'rgba(0, 255, 0, 0.3)';
} else {
ctx.fillStyle = '#00ff00';
}

const text = chars[Math.floor(Math.random() * chars.length)];
ctx.fillText(text, x, y);

if (y > canvas.height && Math.random() > 0.975) {
drops[i] = 0;
}
drops[i]++;
}
}

setInterval(draw, 33);

let resizeTimeout;
window.addEventListener('resize', () => {
clearTimeout(resizeTimeout);
resizeTimeout = setTimeout(() => {
initMatrix();
}, 100);
});

// Handle orientation change on mobile
window.addEventListener('orientationchange', () => {
setTimeout(() => {
initMatrix();
}, 100);
});
</script>
</body>
</html>
